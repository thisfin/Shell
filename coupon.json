{
    "comment": "weapp写起来太麻烦了",
    "data": {
    },
    "view": {
        "type": "container",
        "styleBinding": {
            "marginTop": "0",
            "width": "640",
            "height": "288",
            "layout": "absoluteLayout"
        },
        "events": [
            {
                "type": "onload",
                "actions": [
                    {
                        "type": "sendRequest",
                        "param": {
                            "apiAlias": "initRequest",
                            "apiName": "mtop.tmw.keyword.searchlist.init",
                            "apiVersion": "1.0",
                            "needLogin": "false",
                            "param": {
                                "keyword": "$keyWord",
                                "sellerId": "$sellerId"
                            },
                            "showErrorView": "true"
                        },
                        "callback": [
                            {
                                "type": "changeData",
                                "param": {
                                    "$status": "${initRequest}.data.status",
                                    "$shopName": "${initRequest}.data.shopName",
                                    "$awardName": "${initRequest}.data.awardBeans.name",
                                    "$awardValue": "${initRequest}.data.awardBeans.extra.value",
                                    "$awardValidTime": "${initRequest}.data.awardBeans.extra.validTime"
                                }
                            },
                            {
                                "type": "changeStyle",
                                "param": {
                                    "viewId": "statusLabel",
                                    "styleBinding": {
                                        "width": "-2"
                                    }
                                }
                            },
                            {
                                "type": "changeStyle",
                                "param": {
                                    "viewId": "shopNameLabel",
                                    "styleBinding": {
                                        "width": "-2"
                                    }
                                }
                            },
                            {
                                "type": "changeStyle",
                                "param": {
                                    "viewId": "awardValueLabel",
                                    "styleBinding": {
                                        "width": "-2"
                                    }
                                }
                            },
                            {
                                "type": "changeStyle",
                                "param": {
                                    "viewId": "aawardNameLabel",
                                    "styleBinding": {
                                        "width": "-2"
                                    }
                                }
                            },
                            {
                                "type": "changeStyle",
                                "param": {
                                    "viewId": "aawardValidTimeLabel",
                                    "styleBinding": {
                                        "width": "-2"
                                    }
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "statusLabel"
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "shopNameLabel"
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "awardValueLabel"
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "awardNameLabel"
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "awardValidTimeLabel"
                                }
                            },
                            {
                                "type": "refreshView",
                                "param": {
                                    "viewId": "imgView"
                                }
                            }
                        ]
                    }
                ]
            }
        ],
        "subViews": [
            {
                "comment": "Group",
                "type": "container",
                "styleBinding": {
                    "width": "640",
                    "height": "288",
                    "layout": "absoluteLayout"
                },
                "subViews": [
                    {
                        "comment": "活动规则",
                        "type": "label",
                        "styleBinding": {
                            "marginRight": "24",
                            "marginTop": "14",
                            "gravity": "3",
                            "width": "100",
                            "height": "24",
                            "fontSize": "24",
                            "textColor": "#999999",
                            "align": "3"
                        },
                        "dataBinding": {
                            "value": "活动规则"
                        },
                        "events": [
                            {
                                "type": "click",
                                "actions": [
                                    {
                                        "type": "openURL",
                                        "param": {
                                            "url": "http://m.taobao.com",
                                            "title": "APP动态点击事件1"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "comment": "背景图",
                        "type": "image",
                        "styleBinding": {
                            "marginLeft": "24",
                            "marginTop": "52",
                            "width": "592",
                            "height": "164"
                        },
                        "dataBinding": {
                            "url": "http://gtms03.alicdn.com/tps/i3/TB1SGxRLVXXXXcCXVXXw34KHFXX-702-164.png"
                        }
                    },
                    {
                        "comment": "中间部分集合",
                        "type": "container",
                        "styleBinding": {
                            "marginLeft": "24",
                            "marginTop": "52",
                            "width": "592",
                            "height": "164",
                            "orientation": "horizontal",
                            "layout": "linearLayout"
                        },
                        "subViews": [
                            {
                                "type": "container",
                                "styleBinding": {
                                    "marginLeft": "18",
                                    "marginTop": "0",
                                    "align": 1,
                                    "width": "-2",
                                    "height": "-1",
                                    "layout": "absoluteLayout"
                                },
                                "subViews": [
                                    {
                                        "comment": "价格前缀",
                                        "type": "label",
                                        "styleBinding": {
                                            "marginLeft": "0",
                                            "marginTop": "60",
                                            "gravity": "8",
                                            "align": "1",
                                            "width": "-2",
                                            "height": "40",
                                            "fontSize": "40",
                                            "textColor": "#FFFFFF"
                                        },
                                        "dataBinding": {
                                            "value": "￥"
                                        }
                                    }
                                ]
                            },
                            {
                                "type": "container",
                                "styleBinding": {
                                    "marginRight": "18",
                                    "marginTop": "0",
                                    "align": 1,
                                    "width": "-2",
                                    "height": "-1",
                                    "layout": "absoluteLayout"
                                },
                                "subViews": [
                                    {
                                        "comment": "价格",
                                        "type": "label",
                                        "viewId": "awardValueLabel",
                                        "styleBinding": {
                                            "marginRight": "0",
                                            "marginTop": "45",
                                            "gravity": "8",
                                            "width": "-2",
                                            "height": "60",
                                            "fontSize": "60",
                                            "textColor": "#FFFFFF",
                                            "align": "1"
                                        },
                                        "dataBinding": {
                                            "value": "$awardValue"
                                        }
                                    }
                                ]
                            },
                            {
                                "comment": "中部",
                                "type": "container",
                                "styleBinding": {
                                    "marginTop": "24",
                                    "gravity": "1",
                                    "width": "250",
                                    "height": "118",
                                    "abackgroundColor": "#EEEEEE",
                                    "layout": "absoluteLayout"
                                },
                                "subViews": [
                                    {
                                        "comment": "店铺名称",
                                        "type": "label",
                                        "viewId": "shopNameLabel",
                                        "styleBinding": {
                                            "marginTop": "35",
                                            "gravity": "1",
                                            "width": "-1",
                                            "height": "24",
                                            "fontSize": "24",
                                            "textColor": "#FFFFFF",
                                            "align": "1"
                                        },
                                        "dataBinding": {
                                            "value": "$shopName"
                                        }
                                    },
                                    {
                                        "comment": "时间",
                                        "type": "label",
                                        "viewId": "awardValidTimeLabel",
                                        "styleBinding": {
                                            "marginTop": "69",
                                            "gravity": "1",
                                            "width": "-1",
                                            "height": "20",
                                            "fontSize": "20",
                                            "textColor": "#FFFFFF",
                                            "align": "1"
                                        },
                                        "dataBinding": {
                                            "value": "$awardValidTime"
                                        }
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "comment": "固定字符",
                        "type": "label",
                        "styleBinding": {
                            "marginLeft": "48",
                            "marginTop": "159",
                            "gravity": "1",
                            "width": "-2",
                            "height": "20",
                            "fontSize": "20",
                            "textColor": "#FFFFFF",
                            "align": "1"
                        },
                        "dataBinding": {
                            "value": "无门槛条件"
                        }
                    },
                    {
                        "comment": "右中方块组",
                        "type": "TMCImage",
                        "viewId": "imgView",
                        "styleBinding": {
                            "marginRight": "42",
                            "marginTop": "77",
                            "align": "3",
                            "width": "114",
                            "height": "114",
                            "cornerRadius": "4"
                        },
                        "conditions": [
                            {
                                "comment": "有效",
                                "type": "&&",
                                "leftCondition": {
                                    "type": "==",
                                    "left": "$status",
                                    "right": "valid"
                                },
                                "rightCondition": {
                                    "type": "==",
                                    "left": "$drawStatus",
                                    "right": "null"
                                },
                                "dataBinding": {
                                    "url": "http://gtms03.alicdn.com/tps/i3/TB1N80GLVXXXXczaXXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                    {
                                        "comment": "领奖",
                                        "type": "click",
                                        "actions": [
                                            {
                                                "type": "sendRequest",
                                                "param": {
                                                    "apiAlias": "drawRequest",
                                                    "apiName": "mtop.tmw.keyword.searchlist.draw",
                                                    "apiVersion": "1.0",
                                                    "needLogin": "true",
                                                    "param": {
                                                        "keyword": "$keyWord",
                                                        "sellerId": "$sellerId"
                                                    },
                                                    "showErrorView": "true"
                                                },
                                                "callback": [
                                                    {
                                                        "type": "changeData",
                                                        "param": {
                                                            "$drawStatus": "${drawRequest}.data.isWin"
                                                        }
                                                    },
                                                    {
                                                        "type": "refreshView",
                                                        "param": {
                                                            "viewId": "imgView"
                                                        }
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "comment": "失效",
                                "type": "==",
                                "left": "$status",
                                "right": "invalid",
                                "dataBinding": {
                                    "url": "http://gtms03.alicdn.com/tps/i3/TB13qeXLVXXXXc_XXXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                ]
                            },
                            {
                                "comment": "已领完",
                                "type": "==",
                                "left": "$status",
                                "right": "used_up",
                                "dataBinding": {
                                    "url": "http://gtms02.alicdn.com/tps/i2/TB1cYpRLVXXXXcMXVXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                ]
                            },
                            {
                                "comment": "中过",
                                "type": "==",
                                "left": "$status",
                                "right": "winned",
                                "dataBinding": {
                                    "url": "http://gtms01.alicdn.com/tps/i1/TB1rU8.LVXXXXc8XXXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                ]
                            },
                            {
                                "comment": "未抢到",
                                "type": "||",
                                "leftCondition": {
                                    "type": "==",
                                    "left": "$status",
                                    "right": "not_win"
                                },
                                "rightCondition": {
                                    "type": "==",
                                    "left": "$drawStatus",
                                    "right": "false"
                                },
                                "dataBinding": {
                                    "url": "http://gtms04.alicdn.com/tps/i4/TB17507LVXXXXccXpXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                ]
                            },
                            {
                                "comment": "领取成功",
                                "type": "==",
                                "left": "$drawStatus",
                                "right": "true",
                                "dataBinding": {
                                    "url": "http://gtms01.alicdn.com/tps/i1/TB1rU8.LVXXXXc8XXXXE5jB3XXX-114-114.png"
                                },
                                "events": [
                                    {
                                        "type": "onload",
                                        "actions": [
                                            {
                                                "type": "toast",
                                                "param": {
                                                    "text": "领取成功"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "comment": "下部",
                        "type": "container",
                        "styleBinding": {
                            "marginTop": "240",
                            "gravity": "5",
                            "width": "-1",
                            "height": "24",
                            "layout": "absoluteLayout"
                        },
                        "subViews": [
                            {
                                "comment": "左横线",
                                "type": "container",
                                "styleBinding": {
                                    "marginLeft": "24",
                                    "marginTop": "11",
                                    "align": "1",
                                    "width": "200",
                                    "height": "1",
                                    "backgroundColor": "#9B9B9B"
                                }
                            },
                            {
                                "comment": "名称",
                                "type": "label",
                                "styleBinding": {
                                    "marginTop": "0",
                                    "align": "3",
                                    "width": "-1",
                                    "height": "24",
                                    "fontSize": "24",
                                    "textColor": "#9B9B9B",
                                    "gravity": "8"
                                },
                                "dataBinding": {
                                    "value": "店铺内热销商品"
                                }
                            },
                            {
                                "comment": "右横线",
                                "type": "container",
                                "styleBinding": {
                                    "marginTop": "11",
                                    "marginRight": "24",
                                    "align": "3",
                                    "width": "200",
                                    "height": "1",
                                    "backgroundColor": "#9B9B9B"
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    }
}
